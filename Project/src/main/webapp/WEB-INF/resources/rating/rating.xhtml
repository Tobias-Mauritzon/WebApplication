<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:cc="http://java.sun.com/jsf/composite">
    <cc:interface>
<!--        <cc:attribute name="valaef"/>-->
    </cc:interface>
    <cc:implementation>
        <div class="card shadow-sm">
            <div class="card-body d-flex justify-content-center">
                <h:form id="rating">  
                    <h4 class="card-title">Rating</h4>
                    <p:rating id="avg-read-only-rating" class="rate-rating" value="#{ratingView.avgRating}" readonly="true"/>
                    <p:rating value="#{ratingView.rating}" >
                        <p:ajax event="rate" listener="#{ratingController.create(request.userPrincipal.name)}" update="@(.rate-rating)"/>                      
                    </p:rating>                                     
                </h:form>              
            </div>
        </div>
    </cc:implementation>
</ui:composition>
