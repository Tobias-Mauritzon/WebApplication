<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <div>
        <div class="row mt-3">
            <div class="col-lg-3">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <p:avatar label="M" size="large" shape="circle" />
                        <h4 class="d-inline ms-2">Matteus</h4>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5>Description:</h5>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-3">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h:form>
                        <p:growl id="messages" showDetail="true"/>
                        <p:rating value="4" readonly="true"/>
                        <p:rating value="#{ratingView.rating}" />
                        <div>
                            <p:commandButton value="Submit Rating" action="#{ratingController.create(request.userPrincipal.name)}"/>
                        </div>

                    </h:form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-3">
            <div class="col-3">

            </div>
            <div class="col-lg-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5>HighScore</h5>
                        <p>1: Matteus</p>
                        <p>2: Tobbe</p>
                    </div>
                </div>
            </div>
            <div class="col-3">

            </div>
        </div>
        <div class="container" id="comment-section">
            <div class="d-flex justify-content-evenly-start" id="write-comment">
                <p:growl id="growl" showSummary="true" showDetail="true" keepAlive="true" life="3000">
                    <p:autoUpdate/>
                </p:growl>

                <div>
                    <h:form id="comment-form">
                        <p:inputTextarea rows="3" cols="30" counter="display" maxlength="200"
                                         counterTemplate="{0} characters remaining." autoResize="true" value="#{commentView.text}"/>
                        <h:outputText id="display" class="d-block" />
                        <p:commandButton id="submit-comment" value="Submit" action="#{commentController.create(request.userPrincipal.name)}"/>
                    </h:form>
                </div>
            </div>
            <div class="d-flex justify-content-evenly-start" id="read-comments">
                #{commentController.findComments()}
                <ui:repeat value="#{commentView.commentList}" var="comment">
                    <div class="card shadow-sm mt-3">
                        <div class="card-body">
                            <p:avatar label="#{comment.userAccount.name.charAt(0)}" size="small" shape="circle" />
                            <h5 class="d-inline ms-2">#{comment.userAccount.name}</h5>
                            <p class="d-inline">Date: #{comment.tstamp}</p>
                            <div>#{comment.text}</div>
                        </div>
                    </div>
                </ui:repeat>
            </div>
        </div>
        
<!--        <div id="rating-div">
            <div class="card">
                <h:form>
                    <p:growl id="messages" showDetail="true"/>

                    <h5 class="p-mt-0">Comment Section</h5>
                    <p:rating value="#{ratingView.rating}" />
                    <div>
                        <p:commandButton value="Submit Rating" action="#{ratingController.create(request.userPrincipal.name)}"/>
                    </div>

                </h:form>
            </div>
        </div>-->
<!--        <div id="comment-section">

            <div id="write-comment">
                <p:growl id="growl" showSummary="true" showDetail="true" keepAlive="true" life="3000">
                    <p:autoUpdate/>
                </p:growl>

                <div class="card">
                    <h:form id="comment-form">
                        <p:inputTextarea rows="5" cols="30" counter="display" maxlength="200"
                                         counterTemplate="{0} characters remaining." autoResize="false" value="#{commentView.text}"/>
                        <h:outputText id="display" class="p-d-block" />
                        <br/>
                        <p:commandButton id="submit-comment" value="Submit" action="#{commentController.create(request.userPrincipal.name)}"/>
                    </h:form>
                </div>
            </div>
            <div id="read-comments">
                #{commentController.findComments()}
                <ui:repeat value="#{commentView.commentList}" var="comment">
                    <div>Author: #{comment.userAccount.name}</div> 
                    <div>Date: #{comment.tstamp}</div>
                    <div>Comment: #{comment.text}</div>
                    <br/>
                </ui:repeat>
            </div>
        </div>-->
    </div>
</html>
